<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•é­šæ©Ÿæ¸¬è©¦</title>
</head>
<body>
    <h1>æ•é­šæ©Ÿæ¸¬è©¦</h1>
    <div id="test-output"></div>
    
    <script>
        console.log('é–‹å§‹æ¸¬è©¦...');
        
        // æ¸¬è©¦è…³æœ¬åŠ è¼‰
        const scripts = [
            'js/utils.js',
            'js/fish.js', 
            'js/cannon.js',
            'js/bullet.js',
            'js/fishManager.js',
            'js/game.js',
            'js/main.js'
        ];
        
        function loadScript(src) {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = src;
                script.onload = () => {
                    console.log(`âœ… ${src} åŠ è¼‰æˆåŠŸ`);
                    resolve();
                };
                script.onerror = () => {
                    console.error(`âŒ ${src} åŠ è¼‰å¤±æ•—`);
                    reject(new Error(`Failed to load ${src}`));
                };
                document.head.appendChild(script);
            });
        }
        
        async function testScripts() {
            try {
                for (const script of scripts) {
                    await loadScript(script);
                    
                    // æ¸¬è©¦é—œéµå°è±¡
                    if (script === 'js/utils.js') {
                        console.log('GAME_CONFIG å­˜åœ¨:', typeof GAME_CONFIG !== 'undefined');
                        console.log('GAME_CONFIG.FISH_TYPES:', GAME_CONFIG?.FISH_TYPES?.length);
                        console.log('GAME_CONFIG.CANNON_LEVELS:', GAME_CONFIG?.CANNON_LEVELS?.length);
                    }
                    
                    if (script === 'js/fish.js') {
                        console.log('Fish é¡å­˜åœ¨:', typeof Fish !== 'undefined');
                        // æ¸¬è©¦å‰µå»ºé­šé¡
                        try {
                            const testFish = new Fish(100, 100, 0);
                            console.log('âœ… Fish å‰µå»ºæˆåŠŸ:', testFish.name, testFish.radius);
                        } catch (e) {
                            console.error('âŒ Fish å‰µå»ºå¤±æ•—:', e);
                        }
                    }
                    
                    if (script === 'js/cannon.js') {
                        console.log('Cannon é¡å­˜åœ¨:', typeof Cannon !== 'undefined');
                        // æ¸¬è©¦å‰µå»ºç‚®å°
                        try {
                            const testCannon = new Cannon(100, 100);
                            console.log('âœ… Cannon å‰µå»ºæˆåŠŸ:', testCannon.power, testCannon.cost);
                        } catch (e) {
                            console.error('âŒ Cannon å‰µå»ºå¤±æ•—:', e);
                        }
                    }
                }
                
                console.log('ğŸ‰ æ‰€æœ‰è…³æœ¬æ¸¬è©¦å®Œæˆ');
                document.getElementById('test-output').innerHTML = 'æ¸¬è©¦å®Œæˆï¼Œè«‹æŸ¥çœ‹æ§åˆ¶å°';
                
            } catch (error) {
                console.error('è…³æœ¬åŠ è¼‰å¤±æ•—:', error);
                document.getElementById('test-output').innerHTML = 'æ¸¬è©¦å¤±æ•—: ' + error.message;
            }
        }
        
        testScripts();
    </script>
</body>
</html> 